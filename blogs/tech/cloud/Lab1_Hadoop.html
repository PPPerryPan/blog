<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/favicon.ico"><title>Lab-Hadoop | P-Lab</title><meta name="description" content="boom!">
    <link rel="preload" href="/blog/assets/style-DRXNKcOj.css" as="style"><link rel="stylesheet" href="/blog/assets/style-DRXNKcOj.css">
    <link rel="modulepreload" href="/blog/assets/app-CUDFWA7u.js"><link rel="modulepreload" href="/blog/assets/Lab1_Hadoop.html-DmTjk_fT.js">
    <link rel="prefetch" href="/blog/assets/timeline.html-DtDfdNkR.js" as="script"><link rel="prefetch" href="/blog/assets/posts.html-N3F93wHk.js" as="script"><link rel="prefetch" href="/blog/assets/friendship-link.html-DKFW6_6j.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DTn5PEhn.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-BxEYiKOs.js" as="script"><link rel="prefetch" href="/blog/assets/3.html-CJvx6yCY.js" as="script"><link rel="prefetch" href="/blog/assets/4.html-mrb76gp5.js" as="script"><link rel="prefetch" href="/blog/assets/5.html-Gna9oF6i.js" as="script"><link rel="prefetch" href="/blog/assets/6.html-UFH2E1S7.js" as="script"><link rel="prefetch" href="/blog/assets/7.html-D4qIQ4kt.js" as="script"><link rel="prefetch" href="/blog/assets/8.html-Bvc-s0-9.js" as="script"><link rel="prefetch" href="/blog/assets/9.html-Dz7sImFo.js" as="script"><link rel="prefetch" href="/blog/assets/10.html-dQLmZRR5.js" as="script"><link rel="prefetch" href="/blog/assets/11.html-D73nvg42.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-d1LHVl3E.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-C-z5uzWd.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-CQkyEnWJ.js" as="script"><link rel="prefetch" href="/blog/assets/3.html-D-xNmJIk.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-QZ_VQv86.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-C7vCPCkb.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BhUMNG_K.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-3-L0o6jW.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DQD5-srN.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BDsG0tVP.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-tkMfqMeD.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-iK9PRW_s.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-1z326L8R.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CXop4Y5N.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-7TOdJLCg.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-C4ttn_BN.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CJvRLrxO.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-D12oBj8Q.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DMsYUT7Z.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CbCC638q.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CzSuUaT7.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-Cop3Toin.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DyS_ukXB.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CxZV77kX.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DCEMF68h.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-5NTxYb9I.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BPmQsWet.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-ZH4CFOBp.js" as="script"><link rel="prefetch" href="/blog/assets/3.html-DJ9i0XE8.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-C-z5uzWd.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BW6T4hrk.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-B2Xq2dRt.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-D_FqYVDF.js" as="script"><link rel="prefetch" href="/blog/assets/3.html-CfPUGepi.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CxYd0SMZ.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-D7eWI4S8.js" as="script"><link rel="prefetch" href="/blog/assets/3.html-JRJfj7E7.js" as="script"><link rel="prefetch" href="/blog/assets/4.html-B_UXJvrj.js" as="script"><link rel="prefetch" href="/blog/assets/5.html-DMBqKlZg.js" as="script"><link rel="prefetch" href="/blog/assets/6.html-Dvvra5oR.js" as="script"><link rel="prefetch" href="/blog/assets/7.html-BMX5ivt9.js" as="script"><link rel="prefetch" href="/blog/assets/8.html-6G44YPDl.js" as="script"><link rel="prefetch" href="/blog/assets/9.html-CyCT8NW6.js" as="script"><link rel="prefetch" href="/blog/assets/10.html-DgDHxGxe.js" as="script"><link rel="prefetch" href="/blog/assets/11.html-CST3RQ_R.js" as="script"><link rel="prefetch" href="/blog/assets/12.html-Dg9eD0gk.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-nwU05bqO.js" as="script"><link rel="prefetch" href="/blog/assets/api.html-BJyYDv1r.js" as="script"><link rel="prefetch" href="/blog/assets/home.html-DVr-rfxM.js" as="script"><link rel="prefetch" href="/blog/assets/plugin.html-nWuSuO6J.js" as="script"><link rel="prefetch" href="/blog/assets/theme.html-BmEBpSul.js" as="script"><link rel="prefetch" href="/blog/assets/02.html-CPibkNbR.js" as="script"><link rel="prefetch" href="/blog/assets/01.html-DnLt1arR.js" as="script"><link rel="prefetch" href="/blog/assets/2022.html-BIa_t6jd.js" as="script"><link rel="prefetch" href="/blog/assets/2023.html-Drt87foF.js" as="script"><link rel="prefetch" href="/blog/assets/01.html-IfvzXdp8.js" as="script"><link rel="prefetch" href="/blog/assets/02.1.html-kF9MDVNx.js" as="script"><link rel="prefetch" href="/blog/assets/02.2.html-Bfcrr5dr.js" as="script"><link rel="prefetch" href="/blog/assets/02.html-JxkqvKgU.js" as="script"><link rel="prefetch" href="/blog/assets/02_Google.html-CHFd00Ja.js" as="script"><link rel="prefetch" href="/blog/assets/03_Amazon.html-DNb9Laoq.js" as="script"><link rel="prefetch" href="/blog/assets/04_Azure.html-CLvbr4fB.js" as="script"><link rel="prefetch" href="/blog/assets/05_Hadoop.html-B_xkTFOA.js" as="script"><link rel="prefetch" href="/blog/assets/09_Cloud_Center.html-Bz7P8kvQ.js" as="script"><link rel="prefetch" href="/blog/assets/Lab2_Virtual.html-kPENVxoA.js" as="script"><link rel="prefetch" href="/blog/assets/Lab3_OpenStack.html-DzzrwvrO.js" as="script"><link rel="prefetch" href="/blog/assets/Lab2_BoomLab.html-C01Nrrlf.js" as="script"><link rel="prefetch" href="/blog/assets/04_Linux_SMB.html-BdLF1uo_.js" as="script"><link rel="prefetch" href="/blog/assets/06_Linux_crontab.html-D1zOpoj5.js" as="script"><link rel="prefetch" href="/blog/assets/08_Linux_crontab_venv.html-Cb_DPDHV.js" as="script"><link rel="prefetch" href="/blog/assets/101_iptables.html-_pEY5xwd.js" as="script"><link rel="prefetch" href="/blog/assets/01_re.html-D4IslnWO.js" as="script"><link rel="prefetch" href="/blog/assets/01.html-Bg8w5lva.js" as="script"><link rel="prefetch" href="/blog/assets/02.html-CuQqAtrx.js" as="script"><link rel="prefetch" href="/blog/assets/03.html-C8MQ2plx.js" as="script"><link rel="prefetch" href="/blog/assets/05.html-DPAAOdPU.js" as="script"><link rel="prefetch" href="/blog/assets/06.html-CjiyzQs-.js" as="script"><link rel="prefetch" href="/blog/assets/01_Ubuntu_add_net_card.html-BO6uBvci.js" as="script"><link rel="prefetch" href="/blog/assets/Lab1.html-DrSXtbhU.js" as="script"><link rel="prefetch" href="/blog/assets/Lab2.html-Buf92Z3H.js" as="script"><link rel="prefetch" href="/blog/assets/Lab3.html-Dbkzsrlb.js" as="script"><link rel="prefetch" href="/blog/assets/Lab4.html-D9sh4LP5.js" as="script"><link rel="prefetch" href="/blog/assets/Lab5.html-C0xRrctu.js" as="script"><link rel="prefetch" href="/blog/assets/Lab6_NAT.html-DCJQMYGp.js" as="script"><link rel="prefetch" href="/blog/assets/14.html-BLsZeU9z.js" as="script"><link rel="prefetch" href="/blog/assets/15.html-AGq_oQLO.js" as="script"><link rel="prefetch" href="/blog/assets/16.html-CS_YwY4J.js" as="script"><link rel="prefetch" href="/blog/assets/01.01_networking2.html-C9Q596d7.js" as="script"><link rel="prefetch" href="/blog/assets/01.1_STP.html-B4WPNBkO.js" as="script"><link rel="prefetch" href="/blog/assets/01.2_VTP.html-DNjutH2d.js" as="script"><link rel="prefetch" href="/blog/assets/01_IPv6.html-D5TsBk7K.js" as="script"><link rel="prefetch" href="/blog/assets/01_networking.html-Cp9Mcyvv.js" as="script"><link rel="prefetch" href="/blog/assets/01_Xiaomi_4A_GE_v2_ipv6.html-BmSXS8_9.js" as="script"><link rel="prefetch" href="/blog/assets/jp_vn_dns_check.html-Dv2g9vnS.js" as="script"><link rel="prefetch" href="/blog/assets/01.html-DxuGRYMd.js" as="script"><link rel="prefetch" href="/blog/assets/02.html-DkhQCrdO.js" as="script"><link rel="prefetch" href="/blog/assets/03.1.html-D1cEYlod.js" as="script"><link rel="prefetch" href="/blog/assets/03.html-CORtrYRS.js" as="script"><link rel="prefetch" href="/blog/assets/04.html-g8Ypz4rH.js" as="script"><link rel="prefetch" href="/blog/assets/06.html-CsoRMAPW.js" as="script"><link rel="prefetch" href="/blog/assets/07.html-yh_B4Yxk.js" as="script"><link rel="prefetch" href="/blog/assets/08.html-DOdHkm2k.js" as="script"><link rel="prefetch" href="/blog/assets/10.html-CSEgfWw4.js" as="script"><link rel="prefetch" href="/blog/assets/01_Git_Basics.html-CdLHKijD.js" as="script"><link rel="prefetch" href="/blog/assets/02_Git_Common_Commands.html-DdzuLLcv.js" as="script"><link rel="prefetch" href="/blog/assets/03_Git_Connect_GitHub.html-ynVZyYXK.js" as="script"><link rel="prefetch" href="/blog/assets/04_Git_Push_Issues.html-CvvQBdkE.js" as="script"><link rel="prefetch" href="/blog/assets/05_Windows_Terminal_Add_GitBash.html-BCS4uz1o.js" as="script"><link rel="prefetch" href="/blog/assets/06_VSCode_Configure_GitBash_Terminal.html-CR-dCKfA.js" as="script"><link rel="prefetch" href="/blog/assets/01_reset_css.html-CiCB30YF.js" as="script"><link rel="prefetch" href="/blog/assets/02_Vue_quick_setup.html-EhtBcalh.js" as="script"><link rel="prefetch" href="/blog/assets/01_Internal_Penetration_Testing_Basics.html-DSd2n_k5.js" as="script"><link rel="prefetch" href="/blog/assets/02_Internal_Network_Information_Collection.html-Dteg0jbb.js" as="script"><link rel="prefetch" href="/blog/assets/999_Trace_Cleanup.html-HZPjGYiA.js" as="script"><link rel="prefetch" href="/blog/assets/99_Common_Attack_Defense.html-BoGOZy5w.js" as="script"><link rel="prefetch" href="/blog/assets/99_End.html-BW5vcKzf.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-Bnjm7IJv.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-2ZZeio5l.js" as="script"><link rel="prefetch" href="/blog/assets/bfd.html-CWbylTLO.js" as="script"><link rel="prefetch" href="/blog/assets/MSTP_VRRP_VLAN_OSPF_NAT.html-6t5HiRqZ.js" as="script"><link rel="prefetch" href="/blog/assets/01.html-Bt-0w_uc.js" as="script"><link rel="prefetch" href="/blog/assets/02.html-C114PjNs.js" as="script"><link rel="prefetch" href="/blog/assets/01.html-7fRlJ2rl.js" as="script"><link rel="prefetch" href="/blog/assets/01.html-DRXViJO9.js" as="script"><link rel="prefetch" href="/blog/assets/101.html-Dq1QZ0r9.js" as="script"><link rel="prefetch" href="/blog/assets/1101.html-CmqxYduO.js" as="script"><link rel="prefetch" href="/blog/assets/1102.html-DMtXrRX4.js" as="script"><link rel="prefetch" href="/blog/assets/1103.html-B7WSHIqr.js" as="script"><link rel="prefetch" href="/blog/assets/1104.html-Qn1uVFD3.js" as="script"><link rel="prefetch" href="/blog/assets/1105.html-C-KGByek.js" as="script"><link rel="prefetch" href="/blog/assets/1106.html-CegCfEo0.js" as="script"><link rel="prefetch" href="/blog/assets/1107.html-Dr3ul0SH.js" as="script"><link rel="prefetch" href="/blog/assets/Lab01_ATT_CK_Red_Team_Practice_1.html-8MTSHsID.js" as="script"><link rel="prefetch" href="/blog/assets/Lab02_ATT_CK_Red_Team_Practice_2.html-D2Z-9uS1.js" as="script"><link rel="prefetch" href="/blog/assets/00.1_Installation.html-BYVosclL.js" as="script"><link rel="prefetch" href="/blog/assets/01_Brute_Force.html-CGEHx0DQ.js" as="script"><link rel="prefetch" href="/blog/assets/02_XSS.html-C45WnO3u.js" as="script"><link rel="prefetch" href="/blog/assets/03_CSRF.html-CUG44hvL.js" as="script"><link rel="prefetch" href="/blog/assets/04_Sql_Inject.html-BsQ4jlSF.js" as="script"><link rel="prefetch" href="/blog/assets/Lab10_CSP Bypass.html-wWu4_UqL.js" as="script"><link rel="prefetch" href="/blog/assets/Lab11 JavaScript.html-Dw_fNbVz.js" as="script"><link rel="prefetch" href="/blog/assets/Lab1_Brute Force.html-ni-8gdZL.js" as="script"><link rel="prefetch" href="/blog/assets/Lab2_Command Injection.html-ByqAKGcG.js" as="script"><link rel="prefetch" href="/blog/assets/Lab3_CSRF.html-DRdTFj3l.js" as="script"><link rel="prefetch" href="/blog/assets/Lab4_File Inclusion.html-wPML6fD0.js" as="script"><link rel="prefetch" href="/blog/assets/Lab5_FileUpload.html-BbBKagNF.js" as="script"><link rel="prefetch" href="/blog/assets/Lab6_Insecure CAPTCHA.html-CBxfbcjs.js" as="script"><link rel="prefetch" href="/blog/assets/Lab7_SQL Injection.html-DoA3nKCS.js" as="script"><link rel="prefetch" href="/blog/assets/Lab8_Weak Session IDs.html-D30vDaAq.js" as="script"><link rel="prefetch" href="/blog/assets/Lab9_XSS.html-DKeSRW9_.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CAEzx4Jg.js" as="script"><link rel="prefetch" href="/blog/assets/10.html-ZD9hKPe8.js" as="script"><link rel="prefetch" href="/blog/assets/11.html-CYfb_MSx.js" as="script"><link rel="prefetch" href="/blog/assets/12.html-BuaHQ8Vf.js" as="script"><link rel="prefetch" href="/blog/assets/13.html-BWk6xVX1.js" as="script"><link rel="prefetch" href="/blog/assets/14.html-C7-UrOfM.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-CrX46c0_.js" as="script"><link rel="prefetch" href="/blog/assets/3.html-DDXfqpWZ.js" as="script"><link rel="prefetch" href="/blog/assets/4.html-Cxwj7dGX.js" as="script"><link rel="prefetch" href="/blog/assets/5.html-Gc9X55MD.js" as="script"><link rel="prefetch" href="/blog/assets/6.html-BuwbIx6K.js" as="script"><link rel="prefetch" href="/blog/assets/7.html-Ct2EhuIl.js" as="script"><link rel="prefetch" href="/blog/assets/8.html-CtlWLmST.js" as="script"><link rel="prefetch" href="/blog/assets/9.html-BWbEbpII.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-DM2Eep2D.js" as="script"><link rel="prefetch" href="/blog/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/blog/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/blog/logo.jpg" alt="P-Lab"><a href="/blog/" class="site-name can-hide">P-Lab</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/blog/" class="link" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/blog/categories/tech/1.html" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/blog/tags/AI/1.html" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">Lab-Hadoop</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->PPPerryPan<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2022-03-30<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/blog/categories/tech/1.html" class="">tech</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/blog/tags/Cloud/1.html" class="">Cloud</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="安装centos7" tabindex="-1"><a class="header-anchor" href="#安装centos7"><span>安装CentOS7</span></a></h2><p>略</p><h2 id="创建快照" tabindex="-1"><a class="header-anchor" href="#创建快照"><span>创建快照</span></a></h2><p>略</p><h2 id="配置cmaster" tabindex="-1"><a class="header-anchor" href="#配置cmaster"><span>配置cMaster</span></a></h2><ul><li>配置设备名</li></ul><p><img src="/blog/assets/1_cMastername-CVoeLxb6.png" alt="1_cMaster设备名"></p><ul><li>配置IP</li></ul><p><img src="/blog/assets/2_cMasterIP-DYHgFrl1.png" alt="2_cMaster配置IP"></p><ul><li>配置hosts <strong>（注：记得sudo；且三台机器都要配）</strong></li></ul><p><img src="/blog/assets/3_cMasterhosts-DC5Dy8Z7.png" alt="3_cMaster配置hosts"></p><h2 id="配置cslave1" tabindex="-1"><a class="header-anchor" href="#配置cslave1"><span>配置cSlave1</span></a></h2><p>直接通过快照克隆即可</p><ul><li>给网卡生成新Mac地址以防出现冲突问题</li></ul><p><img src="/blog/assets/5_cSlave1netcarnew-Comi4Sib.png" alt="5_cSlave1网卡生成新地址"></p><ul><li>配置IP</li></ul><p><img src="/blog/assets/6_cMaster1-IP-C1pdhVRe.png" alt="6_cMaster1配置IP"></p><ul><li><p>cSlave1网络重连后，查看 cMaster 与 cSlave1 网络配置信息（IPv6暂不使用 实验过程不修，解决方案同理）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ <span class="token function">ifconfig</span></span>
<span class="line">ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span></span>
<span class="line">        inet <span class="token number">192.168</span>.105.136  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.105.255</span>
<span class="line">        inet6 fe80::dfe1:4928:3d3b:ea82  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span></span>
<span class="line">        inet6 240e:47c:4e50:25f0:e0d6:8f10:aca0:ea05  prefixlen <span class="token number">64</span>  scopeid 0x<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>global<span class="token operator">&gt;</span></span>
<span class="line">        ether 00:0c:29:78:dc:ff  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span></span>
<span class="line">        RX packets <span class="token number">17742</span>  bytes <span class="token number">23648604</span> <span class="token punctuation">(</span><span class="token number">22.5</span> MiB<span class="token punctuation">)</span></span>
<span class="line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span></span>
<span class="line">        TX packets <span class="token number">3436</span>  bytes <span class="token number">229019</span> <span class="token punctuation">(</span><span class="token number">223.6</span> KiB<span class="token punctuation">)</span></span>
<span class="line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cslave1 ~<span class="token punctuation">]</span>$ <span class="token function">ifconfig</span></span>
<span class="line">ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span></span>
<span class="line">        inet <span class="token number">192.168</span>.105.137  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.105.255</span>
<span class="line">        inet6 fe80::dfe1:4928:3d3b:ea82  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span></span>
<span class="line">        inet6 240e:47c:4e50:25f0:e0d6:8f10:aca0:ea05  prefixlen <span class="token number">64</span>  scopeid 0x<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>global<span class="token operator">&gt;</span></span>
<span class="line">        ether 00:50:56:20:d3:e1  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span></span>
<span class="line">        RX packets <span class="token number">3525</span>  bytes <span class="token number">4779282</span> <span class="token punctuation">(</span><span class="token number">4.5</span> MiB<span class="token punctuation">)</span></span>
<span class="line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span></span>
<span class="line">        TX packets <span class="token number">687</span>  bytes <span class="token number">46416</span> <span class="token punctuation">(</span><span class="token number">45.3</span> KiB<span class="token punctuation">)</span></span>
<span class="line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="配置cslave2" tabindex="-1"><a class="header-anchor" href="#配置cslave2"><span>配置cSlave2</span></a></h2><p>同理，克隆快照，然后重建网卡。</p><ul><li>配置IP</li></ul><p><img src="/blog/assets/8_cMaster2IP-BxYW8l40.png" alt="8_cMaster2配置IP"></p><ul><li><p>查看IP配置</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cslave2 ~<span class="token punctuation">]</span>$ <span class="token function">ifconfig</span></span>
<span class="line">ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span></span>
<span class="line">        inet <span class="token number">192.168</span>.105.138  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.105.255</span>
<span class="line">        inet6 240e:47c:4e50:25f0:250:56ff:fe34:f24d  prefixlen <span class="token number">64</span>  scopeid 0x<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>global<span class="token operator">&gt;</span></span>
<span class="line">        inet6 fe80::250:56ff:fe34:f24d  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span></span>
<span class="line">        ether 00:50:56:34:f2:4d  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span></span>
<span class="line">        RX packets <span class="token number">5428</span>  bytes <span class="token number">7626044</span> <span class="token punctuation">(</span><span class="token number">7.2</span> MiB<span class="token punctuation">)</span></span>
<span class="line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span></span>
<span class="line">        TX packets <span class="token number">2581</span>  bytes <span class="token number">179304</span> <span class="token punctuation">(</span><span class="token number">175.1</span> KiB<span class="token punctuation">)</span></span>
<span class="line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="配置密钥对与主机间信任关系" tabindex="-1"><a class="header-anchor" href="#配置密钥对与主机间信任关系"><span>配置密钥对与主机间信任关系</span></a></h2><p><strong>注：此步骤三台机器都要跑一遍</strong></p><p><strong>此处仅以cMaster为例，其余同理</strong></p><ul><li><p>生成密钥对</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ <span class="token function">su</span></span>
<span class="line">Password: </span>
<span class="line"><span class="token punctuation">[</span>root@cmaster perry<span class="token punctuation">]</span><span class="token comment"># ssh-keygen -t rsa</span></span>
<span class="line">Generating public/private rsa key pair.</span>
<span class="line">Enter <span class="token function">file</span> <span class="token keyword">in</span> <span class="token function">which</span> to save the key <span class="token punctuation">(</span>/root/.ssh/id_rsa<span class="token punctuation">)</span>: </span>
<span class="line">Created directory <span class="token string">&#39;/root/.ssh&#39;</span><span class="token builtin class-name">.</span></span>
<span class="line">Enter passphrase <span class="token punctuation">(</span>empty <span class="token keyword">for</span> no passphrase<span class="token punctuation">)</span>: </span>
<span class="line">Enter same passphrase again: </span>
<span class="line">Your identification has been saved <span class="token keyword">in</span> /root/.ssh/id_rsa.</span>
<span class="line">Your public key has been saved <span class="token keyword">in</span> /root/.ssh/id_rsa.pub.</span>
<span class="line">The key fingerprint is:</span>
<span class="line">SHA256:h3epj488lX/m26pV3gQo8OD9Xj8DmkbMVgC8Mn2NOac root@cmaster</span>
<span class="line">The key&#39;s randomart image is:</span>
<span class="line">+---<span class="token punctuation">[</span>RSA <span class="token number">2048</span><span class="token punctuation">]</span>----+</span>
<span class="line"><span class="token operator">|</span>        +<span class="token punctuation">..</span>.     <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>       <span class="token builtin class-name">.</span> *  <span class="token punctuation">..</span>   <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>        o <span class="token operator">=</span> <span class="token operator">=</span><span class="token punctuation">..</span>  <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>       o +oB.+ <span class="token builtin class-name">.</span> <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>        S <span class="token operator">+=</span>Bo. o<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>         <span class="token assign-left variable">ooE</span><span class="token operator">=</span><span class="token punctuation">..</span><span class="token operator">=</span>.<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>          .<span class="token operator">=</span><span class="token punctuation">..</span>.o+<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>         .o+ <span class="token punctuation">..</span> *<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>          +o+<span class="token punctuation">..</span>*+<span class="token operator">|</span></span>
<span class="line">+----<span class="token punctuation">[</span>SHA256<span class="token punctuation">]</span>-----+</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>将公钥copy到其他机器上</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@ cMaster ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cMaster</span></span>
<span class="line"><span class="token punctuation">[</span>root@ cMaster ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave1</span></span>
<span class="line"><span class="token punctuation">[</span>root@ cMaster ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ex.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cmaster perry<span class="token punctuation">]</span><span class="token comment"># cd /root/.ssh/</span></span>
<span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ls</span></span>
<span class="line">id_rsa  id_rsa.pub</span>
<span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cMaster</span></span>
<span class="line">/usr/bin/ssh-copy-id: INFO: Source of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> to be installed: <span class="token string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span>
<span class="line">The authenticity of <span class="token function">host</span> <span class="token string">&#39;cmaster (192.168.105.136)&#39;</span> can<span class="token string">&#39;t be established.</span>
<span class="line">ECDSA key fingerprint is SHA256:xF82Ukz8MwbWy/R7D9wvQvPdbVIbP06JUbqMs1o5FU8.</span>
<span class="line">ECDSA key fingerprint is MD5:21:f1:62:b8:47:86:e7:a7:05:e3:2b:0d:0d:bf:4f:23.</span>
<span class="line">Are you sure you want to continue connecting (yes/no)? yes</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="line">root@cmaster&#39;</span>s password: </span>
<span class="line"></span>
<span class="line">Number of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> added: <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">Now try logging into the machine, with:   <span class="token string">&quot;ssh &#39;cMaster&#39;&quot;</span></span>
<span class="line">and check to <span class="token function">make</span> sure that only the key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you wanted were added.</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave1</span></span>
<span class="line">/usr/bin/ssh-copy-id: INFO: Source of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> to be installed: <span class="token string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span>
<span class="line">The authenticity of <span class="token function">host</span> <span class="token string">&#39;cslave1 (192.168.105.137)&#39;</span> can<span class="token string">&#39;t be established.</span>
<span class="line">ECDSA key fingerprint is SHA256:xF82Ukz8MwbWy/R7D9wvQvPdbVIbP06JUbqMs1o5FU8.</span>
<span class="line">ECDSA key fingerprint is MD5:21:f1:62:b8:47:86:e7:a7:05:e3:2b:0d:0d:bf:4f:23.</span>
<span class="line">Are you sure you want to continue connecting (yes/no)? y</span>
<span class="line">Please type &#39;</span><span class="token function">yes</span><span class="token string">&#39; or &#39;</span>no<span class="token string">&#39;: yes</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="line">root@cslave1&#39;</span>s password: </span>
<span class="line"></span>
<span class="line">Number of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> added: <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">Now try logging into the machine, with:   <span class="token string">&quot;ssh &#39;cSlave1&#39;&quot;</span></span>
<span class="line">and check to <span class="token function">make</span> sure that only the key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you wanted were added.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave2</span></span>
<span class="line">/usr/bin/ssh-copy-id: INFO: Source of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> to be installed: <span class="token string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span>
<span class="line">The authenticity of <span class="token function">host</span> <span class="token string">&#39;cslave2 (192.168.105.138)&#39;</span> can<span class="token string">&#39;t be established.</span>
<span class="line">ECDSA key fingerprint is SHA256:xF82Ukz8MwbWy/R7D9wvQvPdbVIbP06JUbqMs1o5FU8.</span>
<span class="line">ECDSA key fingerprint is MD5:21:f1:62:b8:47:86:e7:a7:05:e3:2b:0d:0d:bf:4f:23.</span>
<span class="line">Are you sure you want to continue connecting (yes/no)? yes</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="line">root@cslave2&#39;</span>s password: </span>
<span class="line"></span>
<span class="line">Number of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> added: <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">Now try logging into the machine, with:   <span class="token string">&quot;ssh &#39;cSlave2&#39;&quot;</span></span>
<span class="line">and check to <span class="token function">make</span> sure that only the key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you wanted were added.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="关闭防火墙" tabindex="-1"><a class="header-anchor" href="#关闭防火墙"><span>关闭防火墙</span></a></h2><ul><li><p>查看防火墙状态</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl status firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>执行关闭命令</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl stop firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>禁用防火墙开机自启</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl disable firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>附：启用方法</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl start firewalld.service</span>
<span class="line">systemctl <span class="token builtin class-name">enable</span> firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>以cMaster上执行为例</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl status firewalld.service</span>
<span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span>
<span class="line">   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span></span>
<span class="line">   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Mon <span class="token number">2022</span>-03-28 08:57:02 HKT<span class="token punctuation">;</span> 23min ago</span>
<span class="line">     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"> Main PID: <span class="token number">761</span> <span class="token punctuation">(</span>firewalld<span class="token punctuation">)</span></span>
<span class="line">    Tasks: <span class="token number">2</span></span>
<span class="line">   CGroup: /system.slice/firewalld.service</span>
<span class="line">           └─761 /usr/bin/python2 <span class="token parameter variable">-Es</span> /usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span></span>
<span class="line"></span>
<span class="line">Mar <span class="token number">28</span> 08:57:01 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting firewalld - dynamic firewall daemon<span class="token punctuation">..</span>.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:02 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started firewalld - dynamic firewall daemon.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:03 cmaster firewalld<span class="token punctuation">[</span><span class="token number">761</span><span class="token punctuation">]</span>: WARNING: AllowZoneDrifting is enabled. This is considered an insecure configuration option. It wil<span class="token punctuation">..</span>. it now.</span>
<span class="line">Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl stop firewalld.service</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl status firewalld.service</span>
<span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span>
<span class="line">   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span></span>
<span class="line">   Active: inactive <span class="token punctuation">(</span>dead<span class="token punctuation">)</span> since Mon <span class="token number">2022</span>-03-28 09:21:17 HKT<span class="token punctuation">;</span> 6s ago</span>
<span class="line">     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  Process: <span class="token number">761</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span> <span class="token variable">$FIREWALLD_ARGS</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span></span>
<span class="line"> Main PID: <span class="token number">761</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">Mar <span class="token number">28</span> 08:57:01 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting firewalld - dynamic firewall daemon<span class="token punctuation">..</span>.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:02 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started firewalld - dynamic firewall daemon.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:03 cmaster firewalld<span class="token punctuation">[</span><span class="token number">761</span><span class="token punctuation">]</span>: WARNING: AllowZoneDrifting is enabled. This is considered an insecure configuration option. It wil<span class="token punctuation">..</span>. it now.</span>
<span class="line">Mar <span class="token number">28</span> 09:21:13 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Stopping firewalld - dynamic firewall daemon<span class="token punctuation">..</span>.</span>
<span class="line">Mar <span class="token number">28</span> 09:21:17 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Stopped firewalld - dynamic firewall daemon.</span>
<span class="line">Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.</span>
<span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl disable firewalld.service</span>
<span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span>
<span class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="安装jdk" tabindex="-1"><a class="header-anchor" href="#安装jdk"><span>安装JDK</span></a></h2><p><a href="https://www.oracle.com/java/technologies/downloads/" target="_blank" rel="noopener noreferrer">Java Downloads | Oracle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>解包命令</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> jdk-8u321-linux-x64.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>系统环境变量</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">vim</span> /etc/profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>加入</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/home/perry/jdk1.8.0_321</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$JAVA_HOME</span>/jre/bin</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span><span class="token variable">$CLASSPATH</span>:.:<span class="token variable">$JAVA_HOME</span>/lib:<span class="token variable">$JAVA_HOME</span>/jre/lib</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：（据说）不可使用openJDK，已安装的JDK版本具体可通过以下命令查询</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cslave2 ~<span class="token punctuation">]</span>$ <span class="token function">java</span> <span class="token parameter variable">-version</span></span>
<span class="line">openjdk version <span class="token string">&quot;1.8.0_262&quot;</span></span>
<span class="line">OpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_262-b10<span class="token punctuation">)</span></span>
<span class="line">OpenJDK <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.262</span>-b10, mixed mode<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>JDK与Hadoop使用SSH而非VMTools拖进虚拟机，否则可能会出现文件大小不一致等问题</strong></p><p><strong>JDK与Hadoop使用SSH而非VMTools拖进虚拟机，否则可能会出现文件大小不一致等问题</strong></p><p><strong>JDK与Hadoop使用SSH而非VMTools拖进虚拟机，否则可能会出现文件大小不一致等问题</strong></p><p><img src="/blog/assets/image-20220330190650821-DIt7bEvP.png" alt="image-20220330190650821"></p><p><img src="/blog/assets/image-20220330190659030-Dub6BhVi.png" alt="image-20220330190659030"></p><h2 id="部署hadoop集群" tabindex="-1"><a class="header-anchor" href="#部署hadoop集群"><span>部署Hadoop集群</span></a></h2><p><strong>解压Hadoop</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> /home/perry/hadoop-2.7.3.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>如果JDK环境变量已设置好，此步骤可跳过：</strong></p><p>​ 更改Hadoop配置文件 <code>/home/perry/hadoop-2.7.3/etc/hadoop/hadoop-env.sh</code></p><p>​ 将 <code>export JAVA_HOME=${JAVA_HOME}</code> 改为 Java安装路径（可通过 <code>whitch java</code>查询 ），此处为 <code>/usr/bin/java</code></p><p><strong>编辑配置文件</strong></p><p>编辑文件“/home/perry/hadoop-2.7.3/etc/hadoop/core-site.xml”，将如下内容嵌入到此文件的configuration标签间，三台机器操作相同</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/home/perry/cloudData<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://cMaster:8020<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑文件“/home/perry/hadoop-2.7.3/etc/hadoop/yarn-site.xml”，将如下内容嵌入到此文件的configuration标签间，三台机器操作相同</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.hostname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>cMaster<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>将文件“/home/perry/hadoop-2.7.3/etc/hadoop/mapred-site.xml.template”重命名为“/home/xmy/hadoop-2.7.3/etc/hadoop/mapred-site.xml”。接着编辑此文件，将如下内容嵌入到此文件的configuration标签间，三台机器操作相同（重命名：<code>mv fileNameA fileNameB</code>）</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.framework.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>yarn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>启动Hadoop</strong></p><ul><li><p>在cMaster上格式化主节点命名空间</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">[perry@cMaster~]# hadoop-2.7.3/bin/hdfs namenode -format</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>在主节点cMaster上启动存储主服务namenode和资源管理主服务resourcemanager</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cMaster~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/hadoop-daemon.sh start namenode     	#cMaster启动存储主服务  </span></span>
<span class="line"><span class="token punctuation">[</span>perry@cMaster~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/yarn-daemon.sh start resourcemanager  	#cMaster启动资源管理主服务</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在从节点上启动存储从服务datanode和资源管理从服务nodemanager</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cSlave1~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/hadoop-daemon.sh start datanode     	# cSlave0启动存储从服务</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cSlave1~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/yarn-daemon.sh start nodemanager    	# cSlave0启动资源管理从服务</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cSlave2~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/hadoop-daemon.sh start datanode     	# cSlave1启动存储从服务</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cSlave2~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/yarn-daemon.sh start nodemanager     	# cSlave1启动资源管理从服务</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>测试Hadoop</strong></p><p>分别在三台机器上执行如下命令，查看hadoop服务是否已经启动。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cMaster perry<span class="token punctuation">]</span><span class="token comment"># ./jdk1.8.0_321/bin/jps		# jps查看java进程</span></span>
<span class="line"><span class="token punctuation">[</span>root@cMaster perry<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep java			# ps查看java进程</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>cMaster上应能看到 NameNode 和 ResourceManager</li></ul><p><img src="/blog/assets/image-20220330191113411-BVj4P7rR.png" alt="image-20220330191113411"></p><ul><li>cSlave1, cSlave2 上应能看到 DataNode 和 NodeManager</li></ul><p><img src="/blog/assets/image-20220330191535801-8Kv4MpUv.png" alt="image-20220330191535801"></p><p><img src="/blog/assets/image-20220330191631503-DDvUhBRx.png" alt="image-20220330191631503"></p><ul><li>任意设备打开浏览器测试访问</li></ul><p><img src="/blog/assets/image-20220330192713147-ZdPQw_dP.png" alt="image-20220330192713147"></p><p><img src="/blog/assets/image-20220330192745635-fKIBt8gj.png" alt="image-20220330192745635"></p><p><img src="/blog/assets/image-20220330195721108-DlwSnlRz.png" alt="image-20220330195721108"></p><p>!</p><ul><li>用程序验证集群</li></ul><p>（1）使用hadoop命令在在群集中新建文件夹“/in”</p><p>（2）将cMaster上，文件夹“/home/xmy/ hadoop-2.7.3/etc/hadoop”里的所有文件上传至群集文件夹“/in”下</p><p>（3）使用示例程序WordCount，统计“/in”下每个单词出现次数，并将结果存入“/out”目录。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cMaster hadoop-2.7.3<span class="token punctuation">]</span>$ bin/hdfs dfs <span class="token parameter variable">-mkdir</span> /in             								<span class="token comment">#集群里新建in目录</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cMaster hadoop-2.7.3<span class="token punctuation">]</span>$ bin/hdfs dfs <span class="token parameter variable">-put</span> /home/perry/ hadoop-2.7.3/etc/hadoop/* /in		<span class="token comment">#将本地文件上传至hdfs</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cMaster hadoop-2.7.3<span class="token punctuation">]</span>$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount /in /out/wc-01		<span class="token comment">#使用示例程序WordCount计算数据</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时在浏览器迅速打开“cMaster:8088”，将会看到web界面上显示正在运行的WordCount信息。打开“cMaster:50070”，点击链接“Browse the filesystem”，将会看到刚才的输入数据“/in”和输出结果数据“/out/wc-01/part-r-00000”。</p><p><img src="/blog/assets/image-20220330194710885-CMno7yXT.png" alt="image-20220330194710885"></p><p>也可以用shell查看输入/输出：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cMaster hadoop-2.7.3<span class="token punctuation">]</span><span class="token comment"># bin/hdfs dfs -cat /in/*			# 使用命令查看hdfs中的文件</span></span>
<span class="line">cat: <span class="token variable"><span class="token variable">`</span>/in/perry&#39;: Is a directory</span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@cMaster hadoop-2.7.3<span class="token punctuation">]</span><span class="token comment"># bin/hdfs dfs -cat /out/wc-01/*</span></span>
<span class="line">cat: <span class="token variable">`</span></span>/out/wc-01/*&#39;: No such <span class="token function">file</span> or directory</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>分布式集群的弹性扩展验证</strong></p><ul><li>关掉cSlave2：</li></ul><p><img src="/blog/assets/image-20220330200133094-sc7lAiGk.png" alt="image-20220330200133094"></p><p><img src="/blog/assets/image-20220330200146863-DvRY_UBF.png" alt="image-20220330200146863"></p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Last Updated 2025/12/28 11:00:38<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#安装centos7" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="安装CentOS7"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->安装CentOS7<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#创建快照" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="创建快照"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->创建快照<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#配置cmaster" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="配置cMaster"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->配置cMaster<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#配置cslave1" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="配置cSlave1"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->配置cSlave1<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#配置cslave2" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="配置cSlave2"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->配置cSlave2<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#配置密钥对与主机间信任关系" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="配置密钥对与主机间信任关系"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->配置密钥对与主机间信任关系<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#关闭防火墙" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="关闭防火墙"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->关闭防火墙<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#安装jdk" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="安装JDK"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->安装JDK<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/tech/cloud/Lab1_Hadoop.html#部署hadoop集群" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="部署Hadoop集群"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->部署Hadoop集群<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/blog/assets/app-CUDFWA7u.js" defer></script>
  </body>
</html>
