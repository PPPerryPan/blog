import{_ as s,c as i,a as e,o as a}from"./app-Dh5bFHR3.js";const l="/blog/assets/7.1-D2At21_B.png",c={};function d(t,n){return a(),i("div",null,n[0]||(n[0]=[e('<h2 id="例" tabindex="-1"><a class="header-anchor" href="#例"><span>例</span></a></h2><ul><li>目标 <ul><li>掌握静态路由的配置方法和技巧；</li><li>掌握通过静态路由方式实现网络的连通性：</li><li>熟悉广域网线缆的连接方式；</li></ul></li><li>背景 <ul><li>学校有新旧两个校区，每个校区是个独立的局域网，为了使新旧校区能够正常相互通讯，共享资源。每个校区出口利用一台路山器进行连接，两台路由器间学校申请了一条2M的DDN专线进行相连，要求你做适当配置实现两个校区间的正常相互访问。</li></ul></li><li>原理 <ul><li>路由器属于网路层设备，能够根据IP包头的信息，选择一条最佳路径，将数据包转发出去。实现不同网段的主机之间的互相访问。路由器是根据路由表进行选路和转发的。而路由表里就是由一条条路由信息组成。</li><li>生成路由表主要有两种方法：手工配置和动态配置，即静态路由协议配置和动态路由协议配置。</li><li>静态路由是指由网络管理员手工配置的路由信息。</li><li>静念路由除了具有简单、高效、可靠的优点外，它的另一个好处是网络安全保密性高。</li><li>缺省路由可以看作是静念路由的一种特殊情况。当数据在查找路由表时，没有找到和目标相匹配的路由表项时，为数据指定的路由。</li></ul></li><li>步骤 <ul><li>新建packet tracer拓扑图（如图） <ul><li>在路由器R1，R2 配置接口的IP地址和R1串口上的时钟频率；</li><li>查看路由器生成的直连路由：</li><li>在路由器R1，R2 配置静态路由；</li><li>验证R1，R2上的静态路由配置；</li><li>将PC1，PC2主机默认网关分别设置为与路由器接口F1/0 IP地址。</li><li>PC1，PC2主机之间可以互相通信；</li></ul></li></ul></li></ul><h2 id="拓扑与主机ip配置" tabindex="-1"><a class="header-anchor" href="#拓扑与主机ip配置"><span>拓扑与主机IP配置</span></a></h2><p><img src="'+l+`" alt="7.1"></p><h2 id="配置路由器" tabindex="-1"><a class="header-anchor" href="#配置路由器"><span>配置路由器</span></a></h2><ul><li>R0</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Router&gt;en</span>
<span class="line">Router#conf t</span>
<span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span>
<span class="line">Router(config)#hostname R0</span>
<span class="line">R0(config)#int fa 1/0</span>
<span class="line">R0(config-if)#no shut</span>
<span class="line"></span>
<span class="line">R0(config-if)#</span>
<span class="line">%LINK-5-CHANGED: Interface FastEthernet1/0, changed state to up</span>
<span class="line"></span>
<span class="line">%LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet1/0, changed state to up</span>
<span class="line"></span>
<span class="line">R0(config-if)#ip address 192.168.1.1 255.255.255.0</span>
<span class="line">R0(config-if)#exit</span>
<span class="line">R0(config)#int serial 2/0</span>
<span class="line">R0(config-if)#ip address 192.168.3.1 255.255.255.0</span>
<span class="line">R0(config-if)#clock rate 64000						!配置时钟频率</span>
<span class="line">R0(config-if)#int ser 2/0</span>
<span class="line">R0(config-if)#no shut</span>
<span class="line"></span>
<span class="line">R0(config-if)#</span>
<span class="line">%LINK-5-CHANGED: Interface Serial2/0, changed state to up</span>
<span class="line"></span>
<span class="line">%LINEPROTO-5-UPDOWN: Line protocol on Interface Serial2/0, changed state to up</span>
<span class="line"></span>
<span class="line">R0(config-if)#end</span>
<span class="line">R0#</span>
<span class="line">%SYS-5-CONFIG_I: Configured from console by console</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>R1 基本同理，但因为 R0 已配置 IP地址 和 时钟频率 ，故 R1 无需设置时钟频率 <ul><li>设置完成后查看路由表，可以看到有两条直连路由</li></ul></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Router&gt;en</span>
<span class="line">Router#conf t</span>
<span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span>
<span class="line">Router(config)#hostname R1</span>
<span class="line">R1(config)#int fa 1/0</span>
<span class="line">R1(config-if)#no shut</span>
<span class="line"></span>
<span class="line">R1(config-if)#</span>
<span class="line">%LINK-5-CHANGED: Interface FastEthernet1/0, changed state to up</span>
<span class="line"></span>
<span class="line">%LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet1/0, changed state to up</span>
<span class="line"></span>
<span class="line">R1(config-if)#ip address 192.168.2.1 255.255.255.0</span>
<span class="line">R1(config-if)#int serial 2/0</span>
<span class="line">R1(config-if)#ip address 192.168.3.2 255.255.255.0</span>
<span class="line">R1(config-if)#no shut</span>
<span class="line"></span>
<span class="line">%LINK-5-CHANGED: Interface Serial2/0, changed state to down</span>
<span class="line"></span>
<span class="line">%LINEPROTO-5-UPDOWN: Line protocol on Interface Serial2/0, changed state to u</span>
<span class="line"></span>
<span class="line">R1(config-if)#end</span>
<span class="line"></span>
<span class="line">R1#show ip route </span>
<span class="line">Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP</span>
<span class="line">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span>
<span class="line">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span>
<span class="line">       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP</span>
<span class="line">       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area</span>
<span class="line">       * - candidate default, U - per-user static route, o - ODR</span>
<span class="line">       P - periodic downloaded static route</span>
<span class="line"></span>
<span class="line">Gateway of last resort is not set</span>
<span class="line"></span>
<span class="line">C    192.168.2.0/24 is directly connected, FastEthernet1/0</span>
<span class="line">C    192.168.3.0/24 is directly connected, Serial2/0</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>PC1 与 PC2 在不同网段，要让两个不同网段通信，需要再R0、R1做静态路由配置</p><ul><li>R0</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">R0&gt;en</span>
<span class="line">R0#show ip rou</span>
<span class="line">Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP</span>
<span class="line">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span>
<span class="line">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span>
<span class="line">       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP</span>
<span class="line">       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area</span>
<span class="line">       * - candidate default, U - per-user static route, o - ODR</span>
<span class="line">       P - periodic downloaded static route</span>
<span class="line"></span>
<span class="line">Gateway of last resort is not set</span>
<span class="line"></span>
<span class="line">C    192.168.1.0/24 is directly connected, FastEthernet1/0</span>
<span class="line">C    192.168.3.0/24 is directly connected, Serial2/0</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">R0#conf t												!进入全局配置模式</span>
<span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span>
<span class="line">R0(config)#ip rou ?</span>
<span class="line">  A.B.C.D  Destination prefix</span>
<span class="line">R0(config)#ip rou 192.168.2.0 ?</span>
<span class="line">  A.B.C.D  Destination prefix mask</span>
<span class="line">R0(config)#ip rou 192.168.2.0 255.255.255.0 ?</span>
<span class="line">  A.B.C.D          Forwarding router&#39;s address</span>
<span class="line">  Dialer           Dialer interface</span>
<span class="line">  Ethernet         IEEE 802.3</span>
<span class="line">  FastEthernet     FastEthernet IEEE 802.3</span>
<span class="line">  GigabitEthernet  GigabitEthernet IEEE 802.3z</span>
<span class="line">  Loopback         Loopback interface</span>
<span class="line">  Null             Null interface</span>
<span class="line">  Serial           Serial</span>
<span class="line">R0(config)#ip rou 192.168.2.0 255.255.255.0 192.168.3.2	!ip rou 目标网络 掩码 下一跳</span>
<span class="line">R0(config)#end</span>
<span class="line">R0#</span>
<span class="line">%SYS-5-CONFIG_I: Configured from console by console</span>
<span class="line"></span>
<span class="line">R0#show ip rou											!查看路由表</span>
<span class="line">Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP</span>
<span class="line">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span>
<span class="line">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span>
<span class="line">       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP</span>
<span class="line">       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area</span>
<span class="line">       * - candidate default, U - per-user static route, o - ODR</span>
<span class="line">       P - periodic downloaded static route</span>
<span class="line"></span>
<span class="line">Gateway of last resort is not set</span>
<span class="line"></span>
<span class="line">C    192.168.1.0/24 is directly connected, FastEthernet1/0</span>
<span class="line">S    192.168.2.0/24 [1/0] via 192.168.3.2</span>
<span class="line">C    192.168.3.0/24 is directly connected, Serial2/0</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>R1</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">R1&gt;en</span>
<span class="line">R1#conf t</span>
<span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span>
<span class="line">R1(config)#ip route 192.168.1.0 255.255.255.0 192.168.3.1</span>
<span class="line">R1(config)#end</span>
<span class="line">R1#</span>
<span class="line">%SYS-5-CONFIG_I: Configured from console by console</span>
<span class="line"></span>
<span class="line">R1#show ip rou</span>
<span class="line">Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP</span>
<span class="line">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span>
<span class="line">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span>
<span class="line">       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP</span>
<span class="line">       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area</span>
<span class="line">       * - candidate default, U - per-user static route, o - ODR</span>
<span class="line">       P - periodic downloaded static route</span>
<span class="line"></span>
<span class="line">Gateway of last resort is not set</span>
<span class="line"></span>
<span class="line">S    192.168.1.0/24 [1/0] via 192.168.3.1</span>
<span class="line">C    192.168.2.0/24 is directly connected, FastEthernet1/0</span>
<span class="line">C    192.168.3.0/24 is directly connected, Serial2/0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="测试" tabindex="-1"><a class="header-anchor" href="#测试"><span>测试</span></a></h2><ul><li>在 PC0 ping PC1</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">C:\\&gt;ipconfig</span>
<span class="line"></span>
<span class="line">FastEthernet0 Connection:(default port)</span>
<span class="line"></span>
<span class="line">   Connection-specific DNS Suffix..: </span>
<span class="line">   Link-local IPv6 Address.........: FE80::2D0:BCFF:FE58:ABB9</span>
<span class="line">   IPv6 Address....................: ::</span>
<span class="line">   IPv4 Address....................: 192.168.1.2</span>
<span class="line">   Subnet Mask.....................: 255.255.255.0</span>
<span class="line">   Default Gateway.................: ::</span>
<span class="line">                                     192.168.1.1</span>
<span class="line"></span>
<span class="line">Bluetooth Connection:</span>
<span class="line"></span>
<span class="line">   Connection-specific DNS Suffix..: </span>
<span class="line">   Link-local IPv6 Address.........: ::</span>
<span class="line">   IPv6 Address....................: ::</span>
<span class="line">   IPv4 Address....................: 0.0.0.0</span>
<span class="line">   Subnet Mask.....................: 0.0.0.0</span>
<span class="line">   Default Gateway.................: ::</span>
<span class="line">                                     0.0.0.0</span>
<span class="line"></span>
<span class="line">C:\\&gt;ping 192.168.2.2</span>
<span class="line"></span>
<span class="line">Pinging 192.168.2.2 with 32 bytes of data:</span>
<span class="line"></span>
<span class="line">Request timed out.</span>
<span class="line">Reply from 192.168.2.2: bytes=32 time=1ms TTL=126</span>
<span class="line">Reply from 192.168.2.2: bytes=32 time=1ms TTL=126</span>
<span class="line">Reply from 192.168.2.2: bytes=32 time=1ms TTL=126</span>
<span class="line"></span>
<span class="line">Ping statistics for 192.168.2.2:</span>
<span class="line">    Packets: Sent = 4, Received = 3, Lost = 1 (25% loss),</span>
<span class="line">Approximate round trip times in milli-seconds:</span>
<span class="line">    Minimum = 1ms, Maximum = 1ms, Average = 1ms</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13)]))}const v=s(c,[["render",d]]),p=JSON.parse('{"path":"/blogs/xxbj/ciscoPT/test07.html","title":"路由器静态路由配置","lang":"en-US","frontmatter":{"title":"路由器静态路由配置","date":"2022-02-10T00:00:00.000Z","tags":["路由交换"],"categories":["学习笔记"]},"headers":[{"level":2,"title":"例","slug":"例","link":"#例","children":[]},{"level":2,"title":"拓扑与主机IP配置","slug":"拓扑与主机ip配置","link":"#拓扑与主机ip配置","children":[]},{"level":2,"title":"配置路由器","slug":"配置路由器","link":"#配置路由器","children":[]},{"level":2,"title":"测试","slug":"测试","link":"#测试","children":[]}],"git":{"createdTime":1748156404000,"updatedTime":1748156404000,"contributors":[{"name":"PPPerryPan","email":"perrypan0123@outlook.com","commits":1}]},"filePathRelative":"blogs/xxbj/ciscoPT/test07.md"}');import.meta.webpackHot&&(import.meta.webpackHot.accept(),__VUE_HMR_RUNTIME__.updatePageData&&__VUE_HMR_RUNTIME__.updatePageData(p));export{v as comp,p as data};
