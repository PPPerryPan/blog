import{_ as p,c as t,b as n,a,d as l,e as i,r as c,o}from"./app-CUDFWA7u.js";const r="/blog/assets/1_cMastername-CVoeLxb6.png",u="/blog/assets/2_cMasterIP-DYHgFrl1.png",d="/blog/assets/3_cMasterhosts-DC5Dy8Z7.png",m="/blog/assets/5_cSlave1netcarnew-Comi4Sib.png",k="/blog/assets/6_cMaster1-IP-C1pdhVRe.png",v="/blog/assets/8_cMaster2IP-BxYW8l40.png",b="/blog/assets/image-20220330190650821-DIt7bEvP.png",h="/blog/assets/image-20220330190659030-Dub6BhVi.png",g="/blog/assets/image-20220330191113411-BVj4P7rR.png",y="/blog/assets/image-20220330191535801-8Kv4MpUv.png",f="/blog/assets/image-20220330191631503-DDvUhBRx.png",w="/blog/assets/image-20220330192713147-ZdPQw_dP.png",x="/blog/assets/image-20220330192745635-fKIBt8gj.png",_="/blog/assets/image-20220330195721108-DlwSnlRz.png",M="/blog/assets/image-20220330194710885-CMno7yXT.png",S="/blog/assets/image-20220330200133094-sc7lAiGk.png",j="/blog/assets/image-20220330200146863-DvRY_UBF.png",A={},D={href:"https://www.oracle.com/java/technologies/downloads/",target:"_blank",rel:"noopener noreferrer"};function I(N,s){const e=c("ExternalLinkIcon");return o(),t("div",null,[s[1]||(s[1]=n('<h2 id="安装centos7" tabindex="-1"><a class="header-anchor" href="#安装centos7"><span>安装CentOS7</span></a></h2><p>略</p><h2 id="创建快照" tabindex="-1"><a class="header-anchor" href="#创建快照"><span>创建快照</span></a></h2><p>略</p><h2 id="配置cmaster" tabindex="-1"><a class="header-anchor" href="#配置cmaster"><span>配置cMaster</span></a></h2><ul><li>配置设备名</li></ul><p><img src="'+r+'" alt="1_cMaster设备名"></p><ul><li>配置IP</li></ul><p><img src="'+u+'" alt="2_cMaster配置IP"></p><ul><li>配置hosts <strong>（注：记得sudo；且三台机器都要配）</strong></li></ul><p><img src="'+d+'" alt="3_cMaster配置hosts"></p><h2 id="配置cslave1" tabindex="-1"><a class="header-anchor" href="#配置cslave1"><span>配置cSlave1</span></a></h2><p>直接通过快照克隆即可</p><ul><li>给网卡生成新Mac地址以防出现冲突问题</li></ul><p><img src="'+m+'" alt="5_cSlave1网卡生成新地址"></p><ul><li>配置IP</li></ul><p><img src="'+k+`" alt="6_cMaster1配置IP"></p><ul><li><p>cSlave1网络重连后，查看 cMaster 与 cSlave1 网络配置信息（IPv6暂不使用 实验过程不修，解决方案同理）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ <span class="token function">ifconfig</span></span>
<span class="line">ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span></span>
<span class="line">        inet <span class="token number">192.168</span>.105.136  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.105.255</span>
<span class="line">        inet6 fe80::dfe1:4928:3d3b:ea82  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span></span>
<span class="line">        inet6 240e:47c:4e50:25f0:e0d6:8f10:aca0:ea05  prefixlen <span class="token number">64</span>  scopeid 0x<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>global<span class="token operator">&gt;</span></span>
<span class="line">        ether 00:0c:29:78:dc:ff  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span></span>
<span class="line">        RX packets <span class="token number">17742</span>  bytes <span class="token number">23648604</span> <span class="token punctuation">(</span><span class="token number">22.5</span> MiB<span class="token punctuation">)</span></span>
<span class="line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span></span>
<span class="line">        TX packets <span class="token number">3436</span>  bytes <span class="token number">229019</span> <span class="token punctuation">(</span><span class="token number">223.6</span> KiB<span class="token punctuation">)</span></span>
<span class="line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cslave1 ~<span class="token punctuation">]</span>$ <span class="token function">ifconfig</span></span>
<span class="line">ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span></span>
<span class="line">        inet <span class="token number">192.168</span>.105.137  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.105.255</span>
<span class="line">        inet6 fe80::dfe1:4928:3d3b:ea82  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span></span>
<span class="line">        inet6 240e:47c:4e50:25f0:e0d6:8f10:aca0:ea05  prefixlen <span class="token number">64</span>  scopeid 0x<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>global<span class="token operator">&gt;</span></span>
<span class="line">        ether 00:50:56:20:d3:e1  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span></span>
<span class="line">        RX packets <span class="token number">3525</span>  bytes <span class="token number">4779282</span> <span class="token punctuation">(</span><span class="token number">4.5</span> MiB<span class="token punctuation">)</span></span>
<span class="line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span></span>
<span class="line">        TX packets <span class="token number">687</span>  bytes <span class="token number">46416</span> <span class="token punctuation">(</span><span class="token number">45.3</span> KiB<span class="token punctuation">)</span></span>
<span class="line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="配置cslave2" tabindex="-1"><a class="header-anchor" href="#配置cslave2"><span>配置cSlave2</span></a></h2><p>同理，克隆快照，然后重建网卡。</p><ul><li>配置IP</li></ul><p><img src="`+v+`" alt="8_cMaster2配置IP"></p><ul><li><p>查看IP配置</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cslave2 ~<span class="token punctuation">]</span>$ <span class="token function">ifconfig</span></span>
<span class="line">ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span></span>
<span class="line">        inet <span class="token number">192.168</span>.105.138  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.105.255</span>
<span class="line">        inet6 240e:47c:4e50:25f0:250:56ff:fe34:f24d  prefixlen <span class="token number">64</span>  scopeid 0x<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>global<span class="token operator">&gt;</span></span>
<span class="line">        inet6 fe80::250:56ff:fe34:f24d  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span></span>
<span class="line">        ether 00:50:56:34:f2:4d  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span></span>
<span class="line">        RX packets <span class="token number">5428</span>  bytes <span class="token number">7626044</span> <span class="token punctuation">(</span><span class="token number">7.2</span> MiB<span class="token punctuation">)</span></span>
<span class="line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span></span>
<span class="line">        TX packets <span class="token number">2581</span>  bytes <span class="token number">179304</span> <span class="token punctuation">(</span><span class="token number">175.1</span> KiB<span class="token punctuation">)</span></span>
<span class="line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="配置密钥对与主机间信任关系" tabindex="-1"><a class="header-anchor" href="#配置密钥对与主机间信任关系"><span>配置密钥对与主机间信任关系</span></a></h2><p><strong>注：此步骤三台机器都要跑一遍</strong></p><p><strong>此处仅以cMaster为例，其余同理</strong></p><ul><li><p>生成密钥对</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ <span class="token function">su</span></span>
<span class="line">Password: </span>
<span class="line"><span class="token punctuation">[</span>root@cmaster perry<span class="token punctuation">]</span><span class="token comment"># ssh-keygen -t rsa</span></span>
<span class="line">Generating public/private rsa key pair.</span>
<span class="line">Enter <span class="token function">file</span> <span class="token keyword">in</span> <span class="token function">which</span> to save the key <span class="token punctuation">(</span>/root/.ssh/id_rsa<span class="token punctuation">)</span>: </span>
<span class="line">Created directory <span class="token string">&#39;/root/.ssh&#39;</span><span class="token builtin class-name">.</span></span>
<span class="line">Enter passphrase <span class="token punctuation">(</span>empty <span class="token keyword">for</span> no passphrase<span class="token punctuation">)</span>: </span>
<span class="line">Enter same passphrase again: </span>
<span class="line">Your identification has been saved <span class="token keyword">in</span> /root/.ssh/id_rsa.</span>
<span class="line">Your public key has been saved <span class="token keyword">in</span> /root/.ssh/id_rsa.pub.</span>
<span class="line">The key fingerprint is:</span>
<span class="line">SHA256:h3epj488lX/m26pV3gQo8OD9Xj8DmkbMVgC8Mn2NOac root@cmaster</span>
<span class="line">The key&#39;s randomart image is:</span>
<span class="line">+---<span class="token punctuation">[</span>RSA <span class="token number">2048</span><span class="token punctuation">]</span>----+</span>
<span class="line"><span class="token operator">|</span>        +<span class="token punctuation">..</span>.     <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>       <span class="token builtin class-name">.</span> *  <span class="token punctuation">..</span>   <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>        o <span class="token operator">=</span> <span class="token operator">=</span><span class="token punctuation">..</span>  <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>       o +oB.+ <span class="token builtin class-name">.</span> <span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>        S <span class="token operator">+=</span>Bo. o<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>         <span class="token assign-left variable">ooE</span><span class="token operator">=</span><span class="token punctuation">..</span><span class="token operator">=</span>.<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>          .<span class="token operator">=</span><span class="token punctuation">..</span>.o+<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>         .o+ <span class="token punctuation">..</span> *<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>          +o+<span class="token punctuation">..</span>*+<span class="token operator">|</span></span>
<span class="line">+----<span class="token punctuation">[</span>SHA256<span class="token punctuation">]</span>-----+</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>将公钥copy到其他机器上</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@ cMaster ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cMaster</span></span>
<span class="line"><span class="token punctuation">[</span>root@ cMaster ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave1</span></span>
<span class="line"><span class="token punctuation">[</span>root@ cMaster ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ex.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cmaster perry<span class="token punctuation">]</span><span class="token comment"># cd /root/.ssh/</span></span>
<span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ls</span></span>
<span class="line">id_rsa  id_rsa.pub</span>
<span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cMaster</span></span>
<span class="line">/usr/bin/ssh-copy-id: INFO: Source of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> to be installed: <span class="token string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span>
<span class="line">The authenticity of <span class="token function">host</span> <span class="token string">&#39;cmaster (192.168.105.136)&#39;</span> can<span class="token string">&#39;t be established.</span>
<span class="line">ECDSA key fingerprint is SHA256:xF82Ukz8MwbWy/R7D9wvQvPdbVIbP06JUbqMs1o5FU8.</span>
<span class="line">ECDSA key fingerprint is MD5:21:f1:62:b8:47:86:e7:a7:05:e3:2b:0d:0d:bf:4f:23.</span>
<span class="line">Are you sure you want to continue connecting (yes/no)? yes</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="line">root@cmaster&#39;</span>s password: </span>
<span class="line"></span>
<span class="line">Number of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> added: <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">Now try logging into the machine, with:   <span class="token string">&quot;ssh &#39;cMaster&#39;&quot;</span></span>
<span class="line">and check to <span class="token function">make</span> sure that only the key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you wanted were added.</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave1</span></span>
<span class="line">/usr/bin/ssh-copy-id: INFO: Source of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> to be installed: <span class="token string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span>
<span class="line">The authenticity of <span class="token function">host</span> <span class="token string">&#39;cslave1 (192.168.105.137)&#39;</span> can<span class="token string">&#39;t be established.</span>
<span class="line">ECDSA key fingerprint is SHA256:xF82Ukz8MwbWy/R7D9wvQvPdbVIbP06JUbqMs1o5FU8.</span>
<span class="line">ECDSA key fingerprint is MD5:21:f1:62:b8:47:86:e7:a7:05:e3:2b:0d:0d:bf:4f:23.</span>
<span class="line">Are you sure you want to continue connecting (yes/no)? y</span>
<span class="line">Please type &#39;</span><span class="token function">yes</span><span class="token string">&#39; or &#39;</span>no<span class="token string">&#39;: yes</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="line">root@cslave1&#39;</span>s password: </span>
<span class="line"></span>
<span class="line">Number of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> added: <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">Now try logging into the machine, with:   <span class="token string">&quot;ssh &#39;cSlave1&#39;&quot;</span></span>
<span class="line">and check to <span class="token function">make</span> sure that only the key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you wanted were added.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cmaster .ssh<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i ~/.ssh/id_rsa.pub cSlave2</span></span>
<span class="line">/usr/bin/ssh-copy-id: INFO: Source of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> to be installed: <span class="token string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span>
<span class="line">The authenticity of <span class="token function">host</span> <span class="token string">&#39;cslave2 (192.168.105.138)&#39;</span> can<span class="token string">&#39;t be established.</span>
<span class="line">ECDSA key fingerprint is SHA256:xF82Ukz8MwbWy/R7D9wvQvPdbVIbP06JUbqMs1o5FU8.</span>
<span class="line">ECDSA key fingerprint is MD5:21:f1:62:b8:47:86:e7:a7:05:e3:2b:0d:0d:bf:4f:23.</span>
<span class="line">Are you sure you want to continue connecting (yes/no)? yes</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="line">root@cslave2&#39;</span>s password: </span>
<span class="line"></span>
<span class="line">Number of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> added: <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">Now try logging into the machine, with:   <span class="token string">&quot;ssh &#39;cSlave2&#39;&quot;</span></span>
<span class="line">and check to <span class="token function">make</span> sure that only the key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you wanted were added.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="关闭防火墙" tabindex="-1"><a class="header-anchor" href="#关闭防火墙"><span>关闭防火墙</span></a></h2><ul><li><p>查看防火墙状态</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl status firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>执行关闭命令</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl stop firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>禁用防火墙开机自启</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl disable firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>附：启用方法</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl start firewalld.service</span>
<span class="line">systemctl <span class="token builtin class-name">enable</span> firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>以cMaster上执行为例</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl status firewalld.service</span>
<span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span>
<span class="line">   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span></span>
<span class="line">   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Mon <span class="token number">2022</span>-03-28 08:57:02 HKT<span class="token punctuation">;</span> 23min ago</span>
<span class="line">     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"> Main PID: <span class="token number">761</span> <span class="token punctuation">(</span>firewalld<span class="token punctuation">)</span></span>
<span class="line">    Tasks: <span class="token number">2</span></span>
<span class="line">   CGroup: /system.slice/firewalld.service</span>
<span class="line">           └─761 /usr/bin/python2 <span class="token parameter variable">-Es</span> /usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span></span>
<span class="line"></span>
<span class="line">Mar <span class="token number">28</span> 08:57:01 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting firewalld - dynamic firewall daemon<span class="token punctuation">..</span>.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:02 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started firewalld - dynamic firewall daemon.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:03 cmaster firewalld<span class="token punctuation">[</span><span class="token number">761</span><span class="token punctuation">]</span>: WARNING: AllowZoneDrifting is enabled. This is considered an insecure configuration option. It wil<span class="token punctuation">..</span>. it now.</span>
<span class="line">Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl stop firewalld.service</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl status firewalld.service</span>
<span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span>
<span class="line">   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span></span>
<span class="line">   Active: inactive <span class="token punctuation">(</span>dead<span class="token punctuation">)</span> since Mon <span class="token number">2022</span>-03-28 09:21:17 HKT<span class="token punctuation">;</span> 6s ago</span>
<span class="line">     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  Process: <span class="token number">761</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span> <span class="token variable">$FIREWALLD_ARGS</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span></span>
<span class="line"> Main PID: <span class="token number">761</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">Mar <span class="token number">28</span> 08:57:01 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting firewalld - dynamic firewall daemon<span class="token punctuation">..</span>.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:02 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started firewalld - dynamic firewall daemon.</span>
<span class="line">Mar <span class="token number">28</span> 08:57:03 cmaster firewalld<span class="token punctuation">[</span><span class="token number">761</span><span class="token punctuation">]</span>: WARNING: AllowZoneDrifting is enabled. This is considered an insecure configuration option. It wil<span class="token punctuation">..</span>. it now.</span>
<span class="line">Mar <span class="token number">28</span> 09:21:13 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Stopping firewalld - dynamic firewall daemon<span class="token punctuation">..</span>.</span>
<span class="line">Mar <span class="token number">28</span> 09:21:17 cmaster systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Stopped firewalld - dynamic firewall daemon.</span>
<span class="line">Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.</span>
<span class="line"><span class="token punctuation">[</span>perry@cmaster ~<span class="token punctuation">]</span>$ systemctl disable firewalld.service</span>
<span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span>
<span class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="安装jdk" tabindex="-1"><a class="header-anchor" href="#安装jdk"><span>安装JDK</span></a></h2>`,30)),a("p",null,[a("a",D,[s[0]||(s[0]=l("Java Downloads | Oracle")),i(e)])]),s[2]||(s[2]=n(`<p>解包命令</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> jdk-8u321-linux-x64.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>系统环境变量</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">vim</span> /etc/profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>加入</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/home/perry/jdk1.8.0_321</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$JAVA_HOME</span>/jre/bin</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span><span class="token variable">$CLASSPATH</span>:.:<span class="token variable">$JAVA_HOME</span>/lib:<span class="token variable">$JAVA_HOME</span>/jre/lib</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：（据说）不可使用openJDK，已安装的JDK版本具体可通过以下命令查询</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cslave2 ~<span class="token punctuation">]</span>$ <span class="token function">java</span> <span class="token parameter variable">-version</span></span>
<span class="line">openjdk version <span class="token string">&quot;1.8.0_262&quot;</span></span>
<span class="line">OpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_262-b10<span class="token punctuation">)</span></span>
<span class="line">OpenJDK <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.262</span>-b10, mixed mode<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>JDK与Hadoop使用SSH而非VMTools拖进虚拟机，否则可能会出现文件大小不一致等问题</strong></p><p><strong>JDK与Hadoop使用SSH而非VMTools拖进虚拟机，否则可能会出现文件大小不一致等问题</strong></p><p><strong>JDK与Hadoop使用SSH而非VMTools拖进虚拟机，否则可能会出现文件大小不一致等问题</strong></p><p><img src="`+b+'" alt="image-20220330190650821"></p><p><img src="'+h+`" alt="image-20220330190659030"></p><h2 id="部署hadoop集群" tabindex="-1"><a class="header-anchor" href="#部署hadoop集群"><span>部署Hadoop集群</span></a></h2><p><strong>解压Hadoop</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> /home/perry/hadoop-2.7.3.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>如果JDK环境变量已设置好，此步骤可跳过：</strong></p><p>​ 更改Hadoop配置文件 <code>/home/perry/hadoop-2.7.3/etc/hadoop/hadoop-env.sh</code></p><p>​ 将 <code>export JAVA_HOME=\${JAVA_HOME}</code> 改为 Java安装路径（可通过 <code>whitch java</code>查询 ），此处为 <code>/usr/bin/java</code></p><p><strong>编辑配置文件</strong></p><p>编辑文件“/home/perry/hadoop-2.7.3/etc/hadoop/core-site.xml”，将如下内容嵌入到此文件的configuration标签间，三台机器操作相同</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/home/perry/cloudData<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://cMaster:8020<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑文件“/home/perry/hadoop-2.7.3/etc/hadoop/yarn-site.xml”，将如下内容嵌入到此文件的configuration标签间，三台机器操作相同</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.hostname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>cMaster<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>将文件“/home/perry/hadoop-2.7.3/etc/hadoop/mapred-site.xml.template”重命名为“/home/xmy/hadoop-2.7.3/etc/hadoop/mapred-site.xml”。接着编辑此文件，将如下内容嵌入到此文件的configuration标签间，三台机器操作相同（重命名：<code>mv fileNameA fileNameB</code>）</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.framework.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>yarn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>启动Hadoop</strong></p><ul><li><p>在cMaster上格式化主节点命名空间</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">[perry@cMaster~]# hadoop-2.7.3/bin/hdfs namenode -format</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>在主节点cMaster上启动存储主服务namenode和资源管理主服务resourcemanager</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cMaster~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/hadoop-daemon.sh start namenode     	#cMaster启动存储主服务  </span></span>
<span class="line"><span class="token punctuation">[</span>perry@cMaster~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/yarn-daemon.sh start resourcemanager  	#cMaster启动资源管理主服务</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在从节点上启动存储从服务datanode和资源管理从服务nodemanager</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cSlave1~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/hadoop-daemon.sh start datanode     	# cSlave0启动存储从服务</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cSlave1~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/yarn-daemon.sh start nodemanager    	# cSlave0启动资源管理从服务</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cSlave2~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/hadoop-daemon.sh start datanode     	# cSlave1启动存储从服务</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cSlave2~<span class="token punctuation">]</span><span class="token comment"># hadoop-2.7.3/sbin/yarn-daemon.sh start nodemanager     	# cSlave1启动资源管理从服务</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>测试Hadoop</strong></p><p>分别在三台机器上执行如下命令，查看hadoop服务是否已经启动。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cMaster perry<span class="token punctuation">]</span><span class="token comment"># ./jdk1.8.0_321/bin/jps		# jps查看java进程</span></span>
<span class="line"><span class="token punctuation">[</span>root@cMaster perry<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep java			# ps查看java进程</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>cMaster上应能看到 NameNode 和 ResourceManager</li></ul><p><img src="`+g+'" alt="image-20220330191113411"></p><ul><li>cSlave1, cSlave2 上应能看到 DataNode 和 NodeManager</li></ul><p><img src="'+y+'" alt="image-20220330191535801"></p><p><img src="'+f+'" alt="image-20220330191631503"></p><ul><li>任意设备打开浏览器测试访问</li></ul><p><img src="'+w+'" alt="image-20220330192713147"></p><p><img src="'+x+'" alt="image-20220330192745635"></p><p><img src="'+_+`" alt="image-20220330195721108"></p><p>!</p><ul><li>用程序验证集群</li></ul><p>（1）使用hadoop命令在在群集中新建文件夹“/in”</p><p>（2）将cMaster上，文件夹“/home/xmy/ hadoop-2.7.3/etc/hadoop”里的所有文件上传至群集文件夹“/in”下</p><p>（3）使用示例程序WordCount，统计“/in”下每个单词出现次数，并将结果存入“/out”目录。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>perry@cMaster hadoop-2.7.3<span class="token punctuation">]</span>$ bin/hdfs dfs <span class="token parameter variable">-mkdir</span> /in             								<span class="token comment">#集群里新建in目录</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cMaster hadoop-2.7.3<span class="token punctuation">]</span>$ bin/hdfs dfs <span class="token parameter variable">-put</span> /home/perry/ hadoop-2.7.3/etc/hadoop/* /in		<span class="token comment">#将本地文件上传至hdfs</span></span>
<span class="line"><span class="token punctuation">[</span>perry@cMaster hadoop-2.7.3<span class="token punctuation">]</span>$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount /in /out/wc-01		<span class="token comment">#使用示例程序WordCount计算数据</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时在浏览器迅速打开“cMaster:8088”，将会看到web界面上显示正在运行的WordCount信息。打开“cMaster:50070”，点击链接“Browse the filesystem”，将会看到刚才的输入数据“/in”和输出结果数据“/out/wc-01/part-r-00000”。</p><p><img src="`+M+`" alt="image-20220330194710885"></p><p>也可以用shell查看输入/输出：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@cMaster hadoop-2.7.3<span class="token punctuation">]</span><span class="token comment"># bin/hdfs dfs -cat /in/*			# 使用命令查看hdfs中的文件</span></span>
<span class="line">cat: <span class="token variable"><span class="token variable">\`</span>/in/perry&#39;: Is a directory</span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@cMaster hadoop-2.7.3<span class="token punctuation">]</span><span class="token comment"># bin/hdfs dfs -cat /out/wc-01/*</span></span>
<span class="line">cat: <span class="token variable">\`</span></span>/out/wc-01/*&#39;: No such <span class="token function">file</span> or directory</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>分布式集群的弹性扩展验证</strong></p><ul><li>关掉cSlave2：</li></ul><p><img src="`+S+'" alt="image-20220330200133094"></p><p><img src="'+j+'" alt="image-20220330200146863"></p>',54))])}const P=p(A,[["render",I]]),T=JSON.parse('{"path":"/blogs/tech/cloud/Lab1_Hadoop.html","title":"Lab-Hadoop","lang":"en-US","frontmatter":{"title":"Lab-Hadoop","date":"2022-03-30T00:00:00.000Z","tags":["Cloud"],"categories":["tech"]},"headers":[{"level":2,"title":"安装CentOS7","slug":"安装centos7","link":"#安装centos7","children":[]},{"level":2,"title":"创建快照","slug":"创建快照","link":"#创建快照","children":[]},{"level":2,"title":"配置cMaster","slug":"配置cmaster","link":"#配置cmaster","children":[]},{"level":2,"title":"配置cSlave1","slug":"配置cslave1","link":"#配置cslave1","children":[]},{"level":2,"title":"配置cSlave2","slug":"配置cslave2","link":"#配置cslave2","children":[]},{"level":2,"title":"配置密钥对与主机间信任关系","slug":"配置密钥对与主机间信任关系","link":"#配置密钥对与主机间信任关系","children":[]},{"level":2,"title":"关闭防火墙","slug":"关闭防火墙","link":"#关闭防火墙","children":[]},{"level":2,"title":"安装JDK","slug":"安装jdk","link":"#安装jdk","children":[]},{"level":2,"title":"部署Hadoop集群","slug":"部署hadoop集群","link":"#部署hadoop集群","children":[]}],"git":{"createdTime":1766826955000,"updatedTime":1766890838000,"contributors":[{"name":"PPPerryPan","email":"perrypan0123@outlook.com","commits":3}]},"filePathRelative":"blogs/tech/cloud/Lab1_Hadoop.md"}');export{P as comp,T as data};
