import{_ as t,c as i,b as l,a as e,d as s,e as r,r as o,o as c}from"./app-CUDFWA7u.js";const d={},p={href:"https://blog.csdn.net/weixin_47608789/article/details/122762609",target:"_blank",rel:"noopener noreferrer"};function u(m,n){const a=o("ExternalLinkIcon");return c(),i("div",null,[n[2]||(n[2]=l(`<p>在Ubuntu 20.04中，可以使用<code>cron</code>来配置计划任务。以下是一个简单的例子，演示如何配置一个每天定时执行的任务。</p><ol><li><p><strong>终端（Terminal）</strong>。</p></li><li><p><strong>输入以下命令，编辑 cron 表</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">bashCopy code</span>
<span class="line"><span class="token function">crontab</span> <span class="token parameter variable">-e</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是第一次编辑，系统会询问您选择一个文本编辑器。您可以选择您喜欢的编辑器，比如 nano、vim等。</p></li><li><p><strong>在编辑器中，添加如下一行来表示每天执行的任务</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token number">0</span> <span class="token number">0</span> * * * /path/to/your/command</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里的<code>0 0 * * *</code>表示每天的午夜（0点0分），<code>/path/to/your/command</code>是您要执行的命令或脚本的路径。</p><p>请确保将<code>/path/to/your/command</code>替换为您实际要运行的命令或脚本的路径。</p></li><li><p><strong>保存并关闭编辑器</strong></p></li></ol><p>这个例子表示，每天的午夜，系统会执行您指定的命令或脚本。您可以根据需要调整时间表和执行命令。</p><ol start="5"><li><p><strong>验证计划任务是否添加成功</strong>。使用以下命令查看当前用户的crontab：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">crontab</span> <span class="token parameter variable">-l</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>确保cron服务正在运行</strong>。运行以下命令来检查cron服务的状态：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl status <span class="token function">cron</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果服务没有运行，你可以使用以下命令启动它：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl start <span class="token function">cron</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>并且，如果你希望cron在系统启动时自动启动，可以使用：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">cron</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>记住，cron作业将以crontab文件所属用户的身份运行，确保该用户具有执行指定脚本或命令的权限。此外，如果你的脚本依赖于特定的环境变量，你可能需要在crontab文件中或脚本本身中显式设置这些环境变量，因为cron作业通常不会加载用户的完整环境。</p>`,5)),e("p",null,[n[1]||(n[1]=s("Ubuntu 计划任务不生效：")),e("a",p,[n[0]||(n[0]=s("Ubuntu计划任务无法执行解决方法_ubuntu计划任务不生效-CSDN博客")),r(a)])])])}const h=t(d,[["render",u]]),g=JSON.parse('{"path":"/blogs/tech/linux/06_Linux_crontab.html","title":"Linux 计划任务 Crontab","lang":"en-US","frontmatter":{"title":"Linux 计划任务 Crontab","date":"2024-01-11T00:00:00.000Z","tags":["Linux"],"categories":["tech"]},"headers":[],"git":{"createdTime":1766826955000,"updatedTime":1766826955000,"contributors":[{"name":"PPPerryPan","email":"perrypan0123@outlook.com","commits":1}]},"filePathRelative":"blogs/tech/linux/06_Linux_crontab.md"}');export{h as comp,g as data};
