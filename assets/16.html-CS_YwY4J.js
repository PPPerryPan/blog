import{_ as a,c as r,b as i,a as n,d as l,e as s,r as d,o as p}from"./app-CUDFWA7u.js";const o={},u={href:"https://support.huawei.com/hedex/api/pages/EDOC1000177836/AZG11278/16/resources/dc/user_privilege.html#user_privilege__tab_1",target:"_blank",rel:"noopener noreferrer"},v={href:"https://support.huawei.com/hedex/hdx.do?docid=EDOC1000177836&id=dc_cfg_cli_0008_2",target:"_blank",rel:"noopener noreferrer"},h={href:"https://support.huawei.com/hedex/api/pages/EDOC1000177836/AZG11278/16/resources/dc/display_current-configuration.html",target:"_blank",rel:"noopener noreferrer"},m={href:"https://support.huawei.com/hedex/api/pages/EDOC1000177836/AZG11278/16/resources/dc/display_saved-configuration.html",target:"_blank",rel:"noopener noreferrer"},g={href:"https://support.huawei.com/hedex/api/pages/EDOC1000177836/AZG11278/16/resources/dc/command-privilege_level.html",target:"_blank",rel:"noopener noreferrer"};function c(b,e){const t=d("ExternalLinkIcon");return p(),r("div",null,[e[20]||(e[20]=i('<h2 id="userprivilege" tabindex="-1"><a class="header-anchor" href="#userprivilege"><span>userprivilege</span></a></h2><h3 id="命令功能" tabindex="-1"><a class="header-anchor" href="#命令功能"><span>命令功能</span></a></h3><p><strong>user privilege</strong>命令用来配置用户级别。</p><p><strong>undo user privilege</strong>命令用来恢复用户级别到缺省情况。</p><p>缺省情况下，Console口用户界面下用户的级别是15，而其他用户界面用户的级别是0。</p><h3 id="命令格式" tabindex="-1"><a class="header-anchor" href="#命令格式"><span>命令格式</span></a></h3><p><strong>user privilege</strong> <strong>level</strong> <em>level</em></p><p><strong>undo user privilege</strong> <strong>level</strong></p><h3 id="参数说明" tabindex="-1"><a class="header-anchor" href="#参数说明"><span>参数说明</span></a></h3><table><thead><tr><th>参数</th><th>参数说明</th><th>取值</th></tr></thead><tbody><tr><td><strong>level</strong> <em>level</em></td><td>指定用户级别。**说明：**<em>level</em>取值越大，优先级越高。</td><td>整数形式，取值范围是0～15。</td></tr></tbody></table><h3 id="视图" tabindex="-1"><a class="header-anchor" href="#视图"><span>视图</span></a></h3><p>用户界面视图</p><h3 id="缺省级别" tabindex="-1"><a class="header-anchor" href="#缺省级别"><span>缺省级别</span></a></h3><p>3：管理级</p><h3 id="使用指南" tabindex="-1"><a class="header-anchor" href="#使用指南"><span>使用指南</span></a></h3><p><strong>应用场景</strong></p><p>为了限制不同用户对设备的访问权限，系统对用户进行了分级管理。用户的级别与命令级别对应，不同级别的用户登录后，只能使用等于或低于自己级别的命令，从而保证了设备的安全性。</p>',17)),n("p",null,[e[1]||(e[1]=l("命令的级别由低到高分为参观级、监控级、配置级和管理级四种，分别对应级别值0、1、2、3，如")),n("a",u,[e[0]||(e[0]=l("表1")),s(t)]),e[2]||(e[2]=l("所示。"))]),n("p",null,[e[4]||(e[4]=l("参考链接：")),n("a",v,[e[3]||(e[3]=l("设置命令级别")),s(t)])]),n("table",null,[e[16]||(e[16]=n("thead",null,[n("tr",null,[n("th",null,"用户级别"),n("th",null,"命令级别"),n("th",null,"级别名称"),n("th",null,"说明")])],-1)),n("tbody",null,[e[13]||(e[13]=n("tr",null,[n("td",null,"0"),n("td",null,"0"),n("td",null,"参观级"),n("td",null,"网络诊断工具命令（ping、tracert）、从本设备出发访问外部设备的命令（Telnet、s）等。")],-1)),n("tr",null,[e[10]||(e[10]=n("td",null,"1",-1)),e[11]||(e[11]=n("td",null,"0、1",-1)),e[12]||(e[12]=n("td",null,"监控级",-1)),n("td",null,[e[7]||(e[7]=l("用于系统维护，包括display等命令。**说明：**并不是所有display命令都是监控级，比如")),n("a",h,[e[5]||(e[5]=n("strong",null,"display current-configuration",-1)),s(t)]),e[8]||(e[8]=l("命令和")),n("a",m,[e[6]||(e[6]=n("strong",null,"display saved-configuration",-1)),s(t)]),e[9]||(e[9]=l("命令是3级管理级。"))])]),e[14]||(e[14]=n("tr",null,[n("td",null,"2"),n("td",null,"0、1、2"),n("td",null,"配置级"),n("td",null,"业务配置命令，如路由配置命令。")],-1)),e[15]||(e[15]=n("tr",null,[n("td",null,"3～15"),n("td",null,"0、1、2、3"),n("td",null,"管理级"),n("td",null,"用于系统基本运行的命令，对业务提供支撑作用，包括文件系统、FTP、TFTP下载、用户管理命令、命令级别设置命令、用于业务故障诊断的debugging命令等。")],-1))])]),e[21]||(e[21]=n("p",null,[n("strong",null,"注意事项")],-1)),n("p",null,[e[18]||(e[18]=l("如果用户需要实现权限的精细管理，可以执行命令")),n("a",g,[e[17]||(e[17]=n("strong",null,"command-privilege level",-1)),s(t)]),e[19]||(e[19]=l("将命令级别提升。"))]),e[22]||(e[22]=i(`<h3 id="使用实例" tabindex="-1"><a class="header-anchor" href="#使用实例"><span>使用实例</span></a></h3><p># 在VTY0用户界面下配置用户级别是2。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">&lt;HUAWEI&gt; system-view</span>
<span class="line">[HUAWEI] user-interface vty 0</span>
<span class="line">[HUAWEI-ui-vty0] user privilege level 2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p># 通过Telnet方式登录设备后，查看用户界面VTY0的详细信息。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">&lt;HUAWEI&gt; display user-interface vty 0</span>
<span class="line">  Idx  Type     Tx/Rx      Modem Privi ActualPrivi Auth  Int     </span>
<span class="line">+ 34    VTY 0               -     2     15           N     -       </span>
<span class="line">  +    : Current UI is active.</span>
<span class="line">  F    : Current UI is active and work in async mode.</span>
<span class="line">  Idx  : Absolute index of UIs.</span>
<span class="line">  Type : Type and relative index of UIs.</span>
<span class="line">  Privi: The privilege of UIs.</span>
<span class="line">  ActualPrivi: The actual privilege of user-interface.</span>
<span class="line">  Auth : The authentication mode of UIs.</span>
<span class="line">      A: Authenticate use AAA.</span>
<span class="line">      N: Current UI need not authentication.</span>
<span class="line">      P: Authenticate use current UI&#39;s password.</span>
<span class="line">  Int  : The physical location of UIs.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>项目</th><th>描述</th></tr></thead><tbody><tr><td>+</td><td>当前用户界面为活动状态。</td></tr><tr><td>F</td><td>当前用户界面为活动状态且工作在异步模式下。</td></tr><tr><td>Idx</td><td>用户界面的绝对索引。</td></tr><tr><td>Type</td><td>用户界面的类型和相对索引。</td></tr><tr><td>Privi</td><td>用户界面的优先级。</td></tr><tr><td>ActualPrivi</td><td>用户界面实际优先级。</td></tr><tr><td>Auth</td><td>用户界面的认证模式。</td></tr><tr><td>Int</td><td>UIs的物理位置。</td></tr><tr><td>A</td><td>使用AAA认证方式。</td></tr><tr><td>N</td><td>当前的用户界面不需要认证。</td></tr><tr><td>P</td><td>对当前用户界面的用户采用password认证方式认证。</td></tr></tbody></table><h2 id="command-privilege-level" tabindex="-1"><a class="header-anchor" href="#command-privilege-level"><span>command-privilege level</span></a></h2><h3 id="命令功能-1" tabindex="-1"><a class="header-anchor" href="#命令功能-1"><span>命令功能</span></a></h3><p><strong>command-privilege level</strong>命令用来设置指定视图内的命令的级别。</p><p><strong>undo command-privilege</strong>命令用来恢复命令为缺省级别。</p><p>缺省情况下，各个视图下的每条命令都有指定的级别。</p><h3 id="命令格式-1" tabindex="-1"><a class="header-anchor" href="#命令格式-1"><span>命令格式</span></a></h3><p><strong>command-privilege level</strong> <em>level</em> <strong>view</strong> <em>view-name</em> <em>command-key</em></p><p><strong>undo command-privilege</strong> [ <strong>level</strong> <em>level</em> ] <strong>view</strong> <em>view-name</em> <em>command-key</em></p><h3 id="参数说明-1" tabindex="-1"><a class="header-anchor" href="#参数说明-1"><span>参数说明</span></a></h3><table><thead><tr><th>参数</th><th>参数说明</th><th>取值</th></tr></thead><tbody><tr><td><strong>level</strong> <em>level</em></td><td>指定命令的级别。</td><td>整数形式，取值范围是0～15。</td></tr><tr><td><strong>view</strong> <em>view-name</em></td><td>指定视图名称。可在终端界面上键入“?”获取该命令视图下所有可选择的视图名称。例如：shell：表示用户视图system：表示系统视图vlan：表示VLAN视图</td><td>-</td></tr><tr><td><em>command-key</em></td><td>指定设置的命令，目前不支持联想，需手动完整输入。</td><td>-</td></tr></tbody></table><h3 id="视图-1" tabindex="-1"><a class="header-anchor" href="#视图-1"><span>视图</span></a></h3><p>系统视图</p><h3 id="缺省级别-1" tabindex="-1"><a class="header-anchor" href="#缺省级别-1"><span>缺省级别</span></a></h3><p>3：管理级</p><h3 id="使用指南-1" tabindex="-1"><a class="header-anchor" href="#使用指南-1"><span>使用指南</span></a></h3><p><strong>应用场景</strong></p><p>系统将命令进行分级管理，各个视图下的每条命令都有指定的级别。设备管理员可以根据用户需要重新设置命令的级别，以实现低级别用户可以使用部分高级别命令的需求，或者将命令的级别提高，增加设备的安全性。</p><p><strong>注意事项</strong></p><p>使用此命令行设置指定视图内命令的级别规则：</p><ul><li>对目标命令行进行降级时，命令行中所有关键字都会降级。</li><li>对目标命令行进行升级时，只有命令行中的最后一个关键字会升级。</li><li>对目标命令行设置命令行级别时，则相同视图下的所有以此目标命令行为首的命令行级别都会被改变。</li><li>对目标命令行设置命令行级别时，和变更级别的关键字索引相同的其他命令中关键字级别也会被改变。</li><li>此命令有覆盖作用，索引相同的关键字级别如果被多次修改，则最后一次修改的级别生效。</li></ul><p>在没有专业人员指导下建议用户不要修改命令的缺省级别，以免造成操作和维护上的不便甚至给设备带来安全隐患。</p><h3 id="使用实例-1" tabindex="-1"><a class="header-anchor" href="#使用实例-1"><span>使用实例</span></a></h3><p># 设置<strong>save</strong>命令的级别为5。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">&lt;HUAWEI&gt; system-view</span>
<span class="line">[HUAWEI] command-privilege level 5 view shell save</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用户权限配置" tabindex="-1"><a class="header-anchor" href="#用户权限配置"><span>用户权限配置</span></a></h2><p>创建用户</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">&lt;S6720_Core&gt;sy</span>
<span class="line">Enter system view, return user view with Ctrl+Z.</span>
<span class="line">[S6720_Core]aaa</span>
<span class="line">[S6720_Core-aaa]local-user script password irreversible-cipher 123456</span>
<span class="line">[S6720_Core-aaa]local-user script privilege level 3 </span>
<span class="line">[S6720_Core-aaa]local-user script service-type telnet terminal ssh </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,33))])}const f=a(o,[["render",c]]),y=JSON.parse('{"path":"/blogs/tech/networking/Huawei/16.html","title":"华为交换机配置用户权限","lang":"en-US","frontmatter":{"title":"华为交换机配置用户权限","date":"2024-03-31T00:00:00.000Z","tags":["Networking","Huawei"],"categories":["tech"]},"headers":[{"level":2,"title":"userprivilege","slug":"userprivilege","link":"#userprivilege","children":[{"level":3,"title":"命令功能","slug":"命令功能","link":"#命令功能","children":[]},{"level":3,"title":"命令格式","slug":"命令格式","link":"#命令格式","children":[]},{"level":3,"title":"参数说明","slug":"参数说明","link":"#参数说明","children":[]},{"level":3,"title":"视图","slug":"视图","link":"#视图","children":[]},{"level":3,"title":"缺省级别","slug":"缺省级别","link":"#缺省级别","children":[]},{"level":3,"title":"使用指南","slug":"使用指南","link":"#使用指南","children":[]},{"level":3,"title":"使用实例","slug":"使用实例","link":"#使用实例","children":[]}]},{"level":2,"title":"command-privilege level","slug":"command-privilege-level","link":"#command-privilege-level","children":[{"level":3,"title":"命令功能","slug":"命令功能-1","link":"#命令功能-1","children":[]},{"level":3,"title":"命令格式","slug":"命令格式-1","link":"#命令格式-1","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-1","link":"#参数说明-1","children":[]},{"level":3,"title":"视图","slug":"视图-1","link":"#视图-1","children":[]},{"level":3,"title":"缺省级别","slug":"缺省级别-1","link":"#缺省级别-1","children":[]},{"level":3,"title":"使用指南","slug":"使用指南-1","link":"#使用指南-1","children":[]},{"level":3,"title":"使用实例","slug":"使用实例-1","link":"#使用实例-1","children":[]}]},{"level":2,"title":"用户权限配置","slug":"用户权限配置","link":"#用户权限配置","children":[]}],"git":{"createdTime":1766826955000,"updatedTime":1766826955000,"contributors":[{"name":"PPPerryPan","email":"perrypan0123@outlook.com","commits":1}]},"filePathRelative":"blogs/tech/networking/Huawei/16.md"}');export{f as comp,y as data};
